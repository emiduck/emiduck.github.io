<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»„é‡‘è°œæ¡ˆï¼šç»¯è‰²äº¤å“æ›²</title>
    <style>
        :root {
            --primary-color: #d4af37;
            --secondary-color: #3a2c1a;
            --text-color: #f0e6d2;
            --highlight-color: #e8c547;
            --case1-color: #d4af37;
            --case2-color: #c93756;
            --case3-color: #4682b4;
            --bg-image: url('https://images.unsplash.com/photo-1605106702734-205df224ecce?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
        }
        
        body {
            font-family: 'SimSun', 'å®‹ä½“', serif;
            background-color: #1a120b;
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-image: var(--bg-image);
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-blend-mode: multiply;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(26, 18, 11, 0.9);
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            border-radius: 5px;
            margin-top: 30px;
            margin-bottom: 30px;
        }
        
        header {
            text-align: center;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 30px;
            position: relative;
        }
        
        h1 {
            color: var(--primary-color);
            font-size: 2.8em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-style: italic;
            color: var(--highlight-color);
        }
        
        h2 {
            color: var(--highlight-color);
            border-left: 4px solid var(--primary-color);
            padding-left: 10px;
            margin-top: 25px;
        }
        
        h3 {
            color: var(--primary-color);
            border-bottom: 1px dashed var(--primary-color);
            padding-bottom: 5px;
        }
        
        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .scene-container {
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 15px;
        }
        
        .scene {
            background-color: rgba(58, 44, 26, 0.7);
            padding: 20px;
            border: 1px solid var(--primary-color);
            border-radius: 5px;
            overflow-y: auto;
            max-height: 500px;
        }
        
        .interaction-panel {
            background-color: rgba(26, 18, 11, 0.9);
            padding: 20px;
            border: 1px solid var(--primary-color);
            border-radius: 5px;
            display: grid;
            grid-template-rows: auto 1fr auto;
            gap: 15px;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid var(--primary-color);
            margin-bottom: 15px;
        }
        
        .tab-btn {
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-color);
            padding: 8px 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            border-bottom-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .notes-area {
            height: 100%;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            background-color: #2a2118;
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            padding: 10px;
            font-family: inherit;
            resize: none;
        }
        
        button {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            border: none;
            padding: 10px 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 3px;
            font-family: inherit;
            margin: 5px;
        }
        
        button:hover {
            background-color: var(--highlight-color);
            transform: translateY(-2px);
        }
        
        .clue {
            background-color: rgba(212, 175, 55, 0.1);
            border-left: 3px solid var(--primary-color);
            padding: 12px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .clue:hover {
            background-color: rgba(212, 175, 55, 0.2);
        }
        
        .selected {
            background-color: rgba(212, 175, 55, 0.3);
        }
        
        .suspect {
            background-color: rgba(201, 55, 86, 0.1);
            border-left: 3px solid var(--case2-color);
            padding: 12px;
            margin: 12px 0;
            cursor: pointer;
        }
        
        .suspect:hover {
            background-color: rgba(201, 55, 86, 0.2);
        }
        
        .testimony {
            font-style: italic;
            color: #d4af37;
            margin: 5px 0 10px 15px;
        }
        
        .solution-area {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(58, 44, 26, 0.5);
            border: 1px dashed var(--primary-color);
        }
        
        .case-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .case-btn {
            background-color: var(--secondary-color);
            border: 2px solid var(--primary-color);
            min-width: 180px;
        }
        
        .case-btn.active {
            color: var(--secondary-color);
        }
        
        .case1-btn.active {
            background-color: var(--case1-color);
        }
        
        .case2-btn.active {
            background-color: var(--case2-color);
        }
        
        .case3-btn.active {
            background-color: var(--case3-color);
        }
        
        input[type="text"] {
            background-color: #2a2118;
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            padding: 8px;
            margin-left: 5px;
            width: 200px;
        }
        
        .relationship-chart {
            margin: 15px 0;
            padding: 10px;
            background-color: rgba(58, 44, 26, 0.5);
            border: 1px solid var(--primary-color);
            font-size: 0.9em;
        }
        
        .relationship-item {
            margin: 5px 0;
            padding-left: 15px;
            position: relative;
        }
        
        .relationship-item:before {
            content: "â€¢";
            color: var(--primary-color);
            position: absolute;
            left: 5px;
        }
        
        @media (max-width: 900px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .case-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .case-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>é»„é‡‘è°œæ¡ˆï¼šç»¯è‰²äº¤å“æ›²</h1>
            <p class="subtitle">å½“çˆ±ä¸æ¨åœ¨å‘½è¿çš„äº”çº¿è°±ä¸Šäº¤ç»‡ï¼Œè°åœ¨æ¼”å¥æœ€åçš„å®‰é­‚æ›²ï¼Ÿ</p>
        </header>
        
        <div class="case-selector">
            <button class="case-btn case1-btn active" onclick="loadCase(1)">æ¡ˆä»¶ä¸€ï¼šæ­Œå‰§é™¢çš„é­…å½±</button>
            <button class="case-btn case2-btn" onclick="loadCase(2)">æ¡ˆä»¶äºŒï¼šè¡€è‰²å©šç¤¼</button>
            <button class="case-btn case3-btn" onclick="loadCase(3)">æ¡ˆä»¶ä¸‰ï¼šç”»å»Šçš„è°è¨€</button>
        </div>
        
        <div class="game-area">
            <div class="scene-container">
                <h2 id="case-title">æ¡ˆå‘ç°åœº</h2>
                <div class="scene" id="scene-description">
                    <!-- åŠ¨æ€åŠ è½½æ¡ˆä»¶å†…å®¹ -->
                </div>
            </div>
            
            <div class="interaction-panel">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="openTab('notes')">ä¾¦æ¢ç¬”è®°</button>
                    <button class="tab-btn" onclick="openTab('interrogation')">æå®¡å«Œç–‘äºº</button>
                    <button class="tab-btn" onclick="openTab('solution')">æäº¤ç­”æ¡ˆ</button>
                </div>
                
                <div id="notes" class="tab-content active">
                    <div class="notes-area">
                        <h3>äººç‰©å…³ç³»å›¾</h3>
                        <div class="relationship-chart" id="relationship-chart">
                            <!-- åŠ¨æ€åŠ è½½äººç‰©å…³ç³» -->
                        </div>
                        <h3>çº¿ç´¢æ•´ç†</h3>
                        <textarea id="detective-notes" placeholder="åœ¨è¿™é‡Œè®°å½•ä½ çš„æ¨ç†..."></textarea>
                        <button onclick="clearNotes()">æ¸…ç©ºç¬”è®°</button>
                    </div>
                </div>
                
                <div id="interrogation" class="tab-content">
                    <h3>å«Œç–‘äººå®¡è®¯å®¤</h3>
                    <div id="suspect-list">
                        <!-- åŠ¨æ€åŠ è½½å«Œç–‘äººåˆ—è¡¨ -->
                    </div>
                    <div id="testimony-display" style="margin-top:15px; min-height:150px; border-top:1px solid var(--primary-color); padding-top:10px;">
                        <p>ç‚¹å‡»å«Œç–‘äººå¼€å§‹å®¡è®¯...</p>
                    </div>
                </div>
                
                <div id="solution" class="tab-content">
                    <div class="solution-area">
                        <h3>æœ€ç»ˆæ¨ç†</h3>
                        <p>å‡¶æ‰‹æ˜¯è°ï¼Ÿ <input type="text" id="culprit"></p>
                        <p>åŠ¨æœºæ˜¯ä»€ä¹ˆï¼Ÿ <input type="text" id="motive"></p>
                        <p>ä½¿ç”¨äº†ä»€ä¹ˆæ‰‹æ³•ï¼Ÿ <input type="text" id="method"></p>
                        <p>æ¡ˆä»¶èƒŒåçš„çœŸç›¸ï¼ˆé€‰å¡«ï¼‰ï¼š <input type="text" id="truth"></p>
                        <button onclick="checkSolution()">æäº¤ç­”æ¡ˆ</button>
                        <p id="result-message"></p>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2025 é»„é‡‘è°œæ¡ˆç³»åˆ— - ç»¯è‰²äº¤å“æ›² | è‡´æ•¬ã€Šæ˜æ˜Ÿå¤§ä¾¦æ¢ã€‹</p>
        </footer>
    </div>

    <script>
        // å½“å‰æ¡ˆä»¶ç¼–å·
        let currentCase = 1;
        
        // æ¡ˆä»¶æ•°æ®
        const cases = {
            1: {
                title: "æ¡ˆä»¶ä¸€ï¼šæ­Œå‰§é™¢çš„é­…å½±",
                description: `
                    <p>æ—¶é—´ï¼š1927å¹´9æœˆ15æ—¥ï¼Œåˆå¤œ</p>
                    <p>åœ°ç‚¹ï¼šå·´é»æ­Œå‰§é™¢åå°</p>
                    <p>æ­»è€…ï¼šç»´å…‹å¤šÂ·æœå…°å¾·ï¼Œ48å²ï¼Œæ­Œå‰§é™¢è€æ¿</p>
                    <p>ç°åœºçŠ¶å†µï¼šæœå…°å¾·è¢«å‘ç°åŠæ­»åœ¨èˆå°æœºæ¢°è£…ç½®ä¸Šï¼Œçœ‹ä¼¼è‡ªæ€ã€‚ä½†è­¦æ–¹å‘ç°è¿™æ˜¯ä¸€åœºç²¾å¿ƒç­–åˆ’çš„è°‹æ€ã€‚æ¡ˆå‘æ—¶æ­£åœ¨ä¸Šæ¼”ã€Šæµ®å£«å¾·ã€‹ã€‚</p>
                    
                    <h3>ç°åœºçº¿ç´¢</h3>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>å°¸ä½“çŠ¶å†µï¼š</strong>é¢ˆéƒ¨æœ‰ä¸¤æ¡å‹’ç—•ï¼Œä¸€æ¡æ°´å¹³ï¼ˆç»åˆ‘ç—•ï¼‰ï¼Œä¸€æ¡Vå‹ï¼ˆä¸ŠåŠç—•ï¼‰ã€‚æŒ‡ç”²ä¸­æœ‰çº¢è‰²çº¤ç»´ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>èˆå°æœºå…³ï¼š</strong>æ§åˆ¶åŠæ¡¥çš„ç»³ç´¢è¢«è°ƒæ¢è¿‡ï¼Œä¸Šé¢æ£€æµ‹åˆ°æœå…°å¾·çš„æŒ‡çº¹å’Œå¦ä¸€ç»„æœªçŸ¥æŒ‡çº¹ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>é—ä¹¦ï¼š</strong>æ‰“å­—æœºæ‰“å°ï¼Œç½²åç¬”è¿¹é‰´å®šä¸ºçœŸï¼Œä½†å†…å®¹æåˆ°"ä¸º20å¹´å‰çš„äº‹èµç½ª"ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>åŒ–å¦†é—´ï¼š</strong>æœå…°å¾·çš„åŒ–å¦†é•œåè—ç€ä¸€å¼ 1907å¹´çš„æ—§ç…§ç‰‡ï¼Œæ˜¾ç¤ºä»–ä¸ä¸‰åå¹´è½»èˆè€…ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>è´¢åŠ¡è®°å½•ï¼š</strong>æ­Œå‰§é™¢é•¿æœŸäºæŸï¼Œä½†æœå…°å¾·ç§äººè´¦æˆ·æœ€è¿‘å­˜å…¥5ä¸‡æ³•éƒï¼Œæ¥æºä¸æ˜ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>èˆå°ç›‘ç£æ—¥å¿—ï¼š</strong>æ¡ˆå‘å½“å¤©ã€Šæµ®å£«å¾·ã€‹ç¬¬ä¸‰å¹•çš„æ¢…è²æ–¯ç‰¹æˆæœè¢«æå‰å–èµ°ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>è§‚ä¼—å¸­ï¼š</strong>VIPåŒ…å¢å‘ç°ä¸€æ ¹å¸¦å£çº¢å°çš„çƒŸè’‚ï¼Œå“ç‰Œä¸å‰§é™¢å¥³é«˜éŸ³å¸¸ç”¨çš„ä¸€è‡´ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>é“å…·é—´ï¼š</strong>å°‘äº†ä¸€æ¡ç”¨äºã€Šå¡é—¨ã€‹æ–—ç‰›åœºæ™¯çš„çº¢ç»¸å¸¦ã€‚
                    </div>
                `,
                relationships: [
                    "æœå…°å¾·20å¹´å‰æ˜¯èˆè¹ˆæ¼”å‘˜ï¼Œä¸ä¸‰ä½åŒä¼´ç»„æˆ'å››å°å¤©é¹…'ç»„åˆ",
                    "å¥³é«˜éŸ³è‰¾ç›æ˜¯æœå…°å¾·æƒ…å¦‡ï¼Œæœ€è¿‘è¦æ±‚ä»–ç¦»å©š",
                    "èˆå°æŠ€å¸ˆå®‰å¾·çƒˆæ˜¯æœå…°å¾·è¡¨å¼Ÿï¼Œå› èµŒåšæ¬ ä¸‹é«˜åˆ©è´·",
                    "èˆè€…ç´¢è²æ˜¯å½“å¹´'å››å°å¤©é¹…'æˆå‘˜ä¹‹å¥³ï¼Œåˆšè¿›å…¥æ­Œå‰§é™¢",
                    "æŠ•èµ„äººè·¯æ˜“é•¿æœŸæƒ³æ”¶è´­æ­Œå‰§é™¢æ”¹å»ºèµŒåœº"
                ],
                suspects: [
                    {
                        name: "è‰¾ç›Â·è´åˆ©å°¼ï¼ˆå¥³é«˜éŸ³ï¼‰",
                        testimony: [
                            "æˆ‘å’Œç»´å…‹å¤šçš„å…³ç³»ï¼Ÿå“¦ï¼Œå¤§å®¶éƒ½çŸ¥é“...ä½†æœ€è¿‘ä»–åœ¨ç–è¿œæˆ‘",
                            "é‚£å¤©æˆ‘åœ¨åŒ…å¢çœ‹æ¼”å‡ºï¼Œä¸­é€”å»è¡¥å¦†äº†",
                            "20å¹´å‰ï¼Ÿé‚£æ—¶æˆ‘è¿˜æ²¡å‡ºç”Ÿï¼ä½ ä»¬åœ¨æš—ç¤ºä»€ä¹ˆï¼Ÿ",
                            "é‚£5ä¸‡æ³•éƒï¼Ÿå¯èƒ½æ˜¯ä»–å–æ‰äº†æˆ‘é€ä»–çš„æ€€è¡¨"
                        ],
                        secrets: [
                            "çŸ¥é“æœå…°å¾·å¹´è½»æ—¶å¯¼è‡´åŒä¼´ç˜«ç—ªçš„ä¸‘é—»",
                            "æ€€å­•ä½†æœå…°å¾·æ‹’ç»æ‰¿è®¤å­©å­æ˜¯ä»–çš„"
                        ]
                    },
                    {
                        name: "å®‰å¾·çƒˆÂ·æœå…°å¾·ï¼ˆèˆå°æŠ€å¸ˆï¼‰",
                        testimony: [
                            "æˆ‘æ˜¯ä»–å”¯ä¸€çš„äº²äººï¼Œæ€ä¹ˆä¼šå®³ä»–ï¼Ÿ",
                            "é‚£äº›æœºå…³æ¯å¤©éƒ½è¦æ£€æŸ¥ï¼Œä¸å¯èƒ½å‡ºé”™",
                            "æ¬ å€ºï¼Ÿé‚£æ˜¯...æŠ•èµ„å¤±è´¥",
                            "ç…§ç‰‡ä¸Šçš„å¥³å­©ï¼Ÿå¥½åƒæ˜¯å”å”å½“å¹´çš„èˆä¼´"
                        ],
                        secrets: [
                            "æš—ä¸­å°†æ­Œå‰§é™¢è®¾å¤‡å–ç»™ç«äº‰å¯¹æ‰‹",
                            "çŸ¥é“èˆå°æœºå…³çš„ç§˜å¯†æ”¹è£…æ–¹æ³•"
                        ]
                    },
                    {
                        name: "ç´¢è²Â·å‹’å…‹è±å°”ï¼ˆæ–°æ™‹èˆè€…ï¼‰",
                        testimony: [
                            "æˆ‘åªæ˜¯æ¥è¿½æ¢¦çš„ï¼Œä¸è®¤è¯†æœå…°å¾·å…ˆç”Ÿ",
                            "çº¢ç»¸å¸¦ï¼Ÿå¯èƒ½è¢«æ‹¿å»å½“å›´å·¾äº†",
                            "æˆ‘æ¯äº²ç¡®å®è·³è¿‡èŠ­è•¾ï¼Œä½†æ—©å·²å»ä¸–",
                            "ã€Šæµ®å£«å¾·ã€‹ç¬¬ä¸‰å¹•ï¼Ÿæˆ‘åœ¨åå°ç»ƒä¹ "
                        ],
                        secrets: [
                            "æ¯äº²æ˜¯æœå…°å¾·å½“å¹´äº‹æ•…çš„å—å®³è€…",
                            "éšèº«æºå¸¦æ¯äº²ç•™ä¸‹çš„å¤ä»‡æ—¥è®°"
                        ]
                    },
                    {
                        name: "è·¯æ˜“Â·è«ç½—ï¼ˆæŠ•èµ„äººï¼‰",
                        testimony: [
                            "æˆ‘åªçœ‹é‡å•†ä¸šä»·å€¼ï¼Œä¸å‚ä¸ä¸ªäººæ©æ€¨",
                            "5ä¸‡æ³•éƒï¼Ÿé‚£æ˜¯é¢„ä»˜æ¬¾",
                            "æ”¹å»ºè®¡åˆ’éœ€è¦ä»–ç­¾å­—ï¼Œæˆ‘æ²¡ç†ç”±æ€ä»–",
                            "é—ä¹¦å†…å®¹ï¼Ÿå¾ˆç¬¦åˆä»–çš„é£æ ¼"
                        ],
                        secrets: [
                            "ä¸é»‘å¸®æœ‰å…³ç³»ï¼Œæ›¾å¨èƒæœå…°å¾·",
                            "çŸ¥é“æœå…°å¾·ä¼ªé€ è‡ªæ€ç°åœºçš„è®¡åˆ’"
                        ]
                    }
                ],
                solution: {
                    culprit: ["ç´¢è²", "å‹’å…‹è±å°”", "èˆè€…"],
                    motive: ["å¤ä»‡", "æ¯äº²", "äº‹æ•…", "ç˜«ç—ª"],
                    method: ["çº¢ç»¸å¸¦", "æœºå…³", "ä¼ªé€ è‡ªæ€"],
                    truth: ["20å¹´å‰æœå…°å¾·æ•…æ„å¯¼è‡´èˆä¼´ç˜«ç—ª", "ä¼ªé€ æˆè‡ªæ€æ©ç›–çœŸç›¸"],
                    correctMessage: `
                        ğŸ­ æ­å–œï¼ä½ æ­å¼€äº†æ­Œå‰§é™¢çš„ç§˜å¯†ï¼<br><br>
                        çœŸç›¸ï¼šç´¢è²ä¸ºæ¯äº²å¤ä»‡ã€‚20å¹´å‰æœå…°å¾·ä¸ºç‹¬èˆæœºä¼šæ•…æ„æ¾åŠ¨èˆå°æœºå…³å¯¼è‡´åŒä¼´ç˜«ç—ªã€‚<br>
                        æ‰‹æ³•ï¼šç”¨çº¢ç»¸å¸¦å‹’æ™•æœå…°å¾·åï¼Œåˆ©ç”¨è°ƒæ¢çš„èˆå°æœºå…³åˆ¶é€ è‡ªæ€å‡è±¡ã€‚<br>
                        è®½åˆºï¼šæœå…°å¾·å‡†å¤‡çš„5ä¸‡æ³•éƒæœ¬æ˜¯ç»™å½“å¹´å—å®³è€…çš„å°å£è´¹ï¼Œå´æˆäº†è‡ªå·±çš„ä¸§è‘¬è´¹ã€‚
                    `
                }
            },
            2: {
                title: "æ¡ˆä»¶äºŒï¼šè¡€è‰²å©šç¤¼",
                description: `
                    <p>æ—¶é—´ï¼š2023å¹´6æœˆ18æ—¥ï¼Œå©šå®´ç°åœº</p>
                    <p>åœ°ç‚¹ï¼šæ»¨æµ·åº¦å‡é…’åº—</p>
                    <p>æ­»è€…ï¼šæ—å¿—è¿œï¼Œ35å²ï¼Œç§‘æŠ€å…¬å¸CEO</p>
                    <p>ç°åœºçŠ¶å†µï¼šæ–°éƒåœ¨å©šç¤¼è‡´è¾åçªç„¶å€’åœ°èº«äº¡ã€‚å©šæˆ’å†…ä¾§æ£€æµ‹å‡ºè“–éº»æ¯’ç´ ï¼Œé¦™æ§Ÿæ¯å´æ— æ¯’ã€‚ç°åœºæ¯ä½å®¾å®¢éƒ½ä¸æ­»è€…æœ‰å¤æ‚å…³ç³»ã€‚</p>
                    
                    <h3>ç°åœºçº¿ç´¢</h3>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>å°¸ä½“çŠ¶å†µï¼š</strong>æ‰‹æŒ‡è‚¿èƒ€å‘é»‘ï¼Œå©šæˆ’å†…ä¾§æœ‰åˆ®ç—•ï¼Œæ£€æµ‹å‡ºè“–éº»æ¯’ç´ ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>å©šæˆ’ï¼š</strong>ç”±æ–°å¨˜è®¾è®¡ï¼ŒåŸå®šæ˜¨å¤©å–è´§ä½†å› "å°ºå¯¸é—®é¢˜"å»¶è¿Ÿåˆ°ä»Šæ—©ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>æ‰‹æœºè®°å½•ï¼š</strong>æ­»è€…ç”Ÿå‰æœ€åé€šè¯æ˜¯ç»™å¤‡æ³¨"A"çš„äººï¼š"æŒ‰çº¦å®šè½¬è´¦äº†"ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>è´¢åŠ¡è®°å½•ï¼š</strong>æ­»è€…å…¬å¸è´¦ç›®å¼‚å¸¸ï¼Œå©šå‰ä¸‰å¤©å‘æµ·å¤–è´¦æˆ·è½¬è´¦200ä¸‡ç¾å…ƒã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>æ–°å¨˜æ—¥è®°ï¼š</strong>"å‘ç°ä»–çš„ç§˜å¯†åï¼Œè¿™åœºå©šç¤¼å¿…é¡»ç»§ç»­..."
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>ä¼´éƒç”µè„‘ï¼š</strong>æœç´¢è®°å½•åŒ…æ‹¬"è“–éº»æ¯’ç´ æå–"å’Œ"å»¶è¿Ÿæ€§æ¯’å‘"ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>é…’åº—ç›‘æ§ï¼š</strong>æ–°å¨˜æ¯äº²åœ¨å©šç¤¼å‰å•ç‹¬è¿›å…¥è¿‡æˆ’æŒ‡ä¿ç®¡å®¤ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>é—å˜±ï¼š</strong>å©šå‰åè®®è§„å®šï¼Œè‹¥å©šç¤¼å®Œæˆå‰æ­»äº¡ï¼Œè´¢äº§å½’å‰å¦»æ‰€æœ‰ã€‚
                    </div>
                `,
                relationships: [
                    "æ–°å¨˜è‹åª›æ˜¯æ­»è€…ç¬¬ä¸‰ä»»å¦»å­ï¼Œå©šå‰æ˜¯å…¬å¸å…¬å…³æ€»ç›‘",
                    "ä¼´éƒå¼ ç¿æ˜¯å…¬å¸CTOï¼Œä¸æ­»è€…æœ‰ä¸“åˆ©çº çº·",
                    "æ–°å¨˜æ¯äº²æ›¾åå¯¹å©šäº‹ï¼Œä¸€å‘¨å‰çªç„¶è½¬å˜æ€åº¦",
                    "å‰å¦»æé›¯å¸¦ç€8å²å„¿å­å‡ºå¸­å©šç¤¼ï¼Œå­©å­æ‚£ç½•è§ç—…éœ€å¤©ä»·æ²»ç–—è´¹",
                    "æ­»è€…å¼Ÿå¼Ÿæ—å¿—æ˜å› èµŒåšè¢«é€å‡ºå®¶æ—ä¼ä¸š"
                ],
                suspects: [
                    {
                        name: "è‹åª›ï¼ˆæ–°å¨˜ï¼‰",
                        testimony: [
                            "æˆ’æŒ‡ç¡®å®æ˜¯æˆ‘è®¾è®¡çš„ï¼Œä½†åˆ¶ä½œç”±ç å®åº—å®Œæˆ",
                            "200ä¸‡ç¾å…ƒï¼Ÿå…¬å¸æ­£å¸¸æµ·å¤–æŠ•èµ„",
                            "æˆ‘æ—©çŸ¥é“ä»–æœ‰å¤–é‡ï¼Œä½†æ²¡æƒ³åˆ°æ˜¯...",
                            "æ¯äº²è¿›ä¿ç®¡å®¤æ˜¯å¸®æˆ‘å–å¤‡ç”¨è€³ç¯"
                        ],
                        secrets: [
                            "æŒæ¡æ­»è€…è´¢åŠ¡é€ å‡è¯æ®",
                            "å©šå‰åè®®æœ‰éšè—æ¡æ¬¾"
                        ]
                    },
                    {
                        name: "å¼ ç¿ï¼ˆä¼´éƒ/CTOï¼‰",
                        testimony: [
                            "é‚£äº›æœç´¢ï¼Ÿæˆ‘åœ¨å†™çŠ¯ç½ªå°è¯´ï¼",
                            "ä¸“åˆ©çº çº·å·²ç»å’Œè§£äº†",
                            "'A'æ˜¯æˆ‘ç»°å·ï¼Œä½†é‚£é€šç”µè¯ä¸æ˜¯æˆ‘æ¥çš„",
                            "ä»–ç­”åº”ä»Šå¤©å©šç¤¼åå…¬å¸ƒæ–°è‚¡æƒåˆ†é…"
                        ],
                        secrets: [
                            "æš—ä¸­å°†å…¬å¸æŠ€æœ¯å–ç»™ç«äº‰å¯¹æ‰‹",
                            "ä¸æ­»è€…å‰å¦»æ˜¯å¤§å­¦åŒå­¦"
                        ]
                    },
                    {
                        name: "ç‹ä¸½åï¼ˆæ–°å¨˜æ¯äº²ï¼‰",
                        testimony: [
                            "æˆ‘åå¯¹æ˜¯å› ä¸ºå‘ç°ä»–è™å¾…å‰å¦»",
                            "æ”¹å˜ä¸»æ„æ˜¯çœ‹åˆ°å¥³å„¿çœŸå¿ƒçˆ±ä»–",
                            "ä¿ç®¡å®¤æœ‰ç›‘æ§ï¼Œæˆ‘èƒ½åšä»€ä¹ˆï¼Ÿ",
                            "ä»–æ‰¿è¯ºä¼šèµ„åŠ©æˆ‘ç™Œç—‡ç ”ç©¶é¡¹ç›®"
                        ],
                        secrets: [
                            "æ›¾æ˜¯ç”ŸåŒ–ä¸“å®¶ï¼Œç†Ÿæ‚‰è“–éº»æ¯’ç´ ",
                            "çŸ¥é“æ­»è€…ä¸å­•çš„çœŸç›¸"
                        ]
                    },
                    {
                        name: "æé›¯ï¼ˆå‰å¦»ï¼‰",
                        testimony: [
                            "å¸¦å­©å­æ¥æ˜¯å¿—è¿œè¦æ±‚çš„",
                            "æ²»ç–—è´¹ï¼Ÿä»–æœ‰å®šæœŸæ±‡æ¬¾",
                            "å©šå‰åè®®ä¸æ˜¯æˆ‘æå‡ºçš„",
                            "é‚£ä¸ªæµ·å¤–è´¦æˆ·...åƒæ˜¯å­©å­çš„ä¿¡æ‰˜åŸºé‡‘"
                        ],
                        secrets: [
                            "å­©å­ç”Ÿçˆ¶å…¶å®æ˜¯å¼ ç¿",
                            "æŒæ¡æ­»è€…å•†ä¸šçŠ¯ç½ªçš„è¯æ®"
                        ]
                    }
                ],
                solution: {
                    culprit: ["ç‹ä¸½å", "æ–°å¨˜æ¯äº²"],
                    motive: ["ä¿æŠ¤å¥³å„¿", "è™å¾…", "ç™Œç—‡ç ”ç©¶"],
                    method: ["æˆ’æŒ‡", "è“–éº»æ¯’ç´ ", "å»¶è¿Ÿæ¯’å‘"],
                    truth: ["æ­»è€…ç”¨å‡æŠ—ç™Œé¡¹ç›®éª—æ", "è®¡åˆ’å©šç¤¼åå·æ¬¾æ½œé€ƒ"],
                    correctMessage: `
                        ğŸ’ æ­å–œï¼ä½ æ­ç©¿äº†è¡€è‰²å©šç¤¼çš„è°è¨€ï¼<br><br>
                        çœŸç›¸ï¼šæ–°å¨˜æ¯äº²å‘ç°æ­»è€…è™šæ„æŠ—ç™Œé¡¹ç›®éª—æï¼ŒçœŸç›¸æ¯”å¥³å„¿çŸ¥é“çš„æ›´é»‘æš—ã€‚<br>
                        æ‰‹æ³•ï¼šç”¨ç™Œç—‡ç ”ç©¶å®éªŒå®¤çš„è“–éº»æ¯’ç´ å¤„ç†æˆ’æŒ‡å†…ä¾§ï¼Œåˆ©ç”¨ä½“æ¸©ç¼“æ…¢é‡Šæ”¾æ¯’ç´ ã€‚<br>
                        è®½åˆºï¼šæ­»è€…å‡†å¤‡çš„æ½œé€ƒèµ„é‡‘ä¸­ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯éª—å–è‡ªæ–°å¨˜æ¯äº²ç ”ç©¶åŸºé‡‘çš„"ææ¬¾"ã€‚
                    `
                }
            },
            3: {
                title: "æ¡ˆä»¶ä¸‰ï¼šç”»å»Šçš„è°è¨€",
                description: `
                    <p>æ—¶é—´ï¼š2023å¹´10æœˆ30æ—¥ï¼Œè‰ºæœ¯å±•å¼€å¹•å¤œ</p>
                    <p>åœ°ç‚¹ï¼šç™½ç«‹æ–¹å½“ä»£è‰ºæœ¯ä¸­å¿ƒ</p>
                    <p>æ­»è€…ï¼šé™ˆå¢¨ï¼Œ41å²ï¼Œè‘—åè‰ºæœ¯è¯„è®ºå®¶</p>
                    <p>ç°åœºçŠ¶å†µï¼šé™ˆå¢¨åœ¨ç‚¹è¯„æ–°é”è‰ºæœ¯å®¶æ¢å°æ›¼çš„ä½œå“åçªç„¶æŠ½ææ­»äº¡ã€‚æ£€æµ‹å‡ºæ²³è±šæ¯’ç´ ï¼Œä½†ç°åœºé£Ÿç‰©æ— æ¯’ã€‚æ­»è€…æ‰‹ä¸­æ”¥ç€ä¸€å¹…è¢«æ’•æ¯çš„ç”»ä½œæ®‹ç‰‡ã€‚</p>
                    
                    <h3>ç°åœºçº¿ç´¢</h3>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>å°¸ä½“çŠ¶å†µï¼š</strong>å˜´è§’æœ‰ç™½è‰²ç²‰æœ«ï¼Œæ£€æµ‹ä¸ºæ²³è±šæ¯’ç´ ä¸é¢œæ–™çš„æ··åˆç‰©ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>ç”»ä½œæ®‹ç‰‡ï¼š</strong>æ¥è‡ªæ¢å°æ›¼çš„ã€Šè‡ªç”»åƒç³»åˆ—ã€‹ï¼Œä½†é£æ ¼ä¸å±•å‡ºä½œå“æ˜æ˜¾ä¸åŒã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>è‰ºæœ¯è¯„è®ºï¼š</strong>é™ˆå¢¨ç”Ÿå‰æœ€åä¸€ç¯‡æ–‡ç« æ­éœ²"å½“ä»£è‰ºæœ¯ä»£ç¬”äº§ä¸šé“¾"ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>ç”»å»Šè®°å½•ï¼š</strong>æ¢å°æ›¼è¿‘ä¸‰å¹´ä½œå“é£æ ¼çªå˜ï¼Œé”€é‡å¢é•¿10å€ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>æ‰‹æœºç…§ç‰‡ï¼š</strong>æ­»è€…ç›¸å†Œæœ‰æ¢å°æ›¼å·¥ä½œå®¤çš„å·æ‹ç…§ï¼Œæ˜¾ç¤ºä»–äººæ­£åœ¨ä½œç”»ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>è´¢åŠ¡å¾€æ¥ï¼š</strong>é™ˆå¢¨è´¦æˆ·å®šæœŸæ”¶åˆ°æ¥è‡ª"è‰ºæµ·å…¬å¸"çš„æ±‡æ¬¾ï¼Œä¸æ¢å°æ›¼å±åŒä¸€é›†å›¢ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>åŒ»ç–—æŠ¥å‘Šï¼š</strong>æ¢å°æ›¼æ‚£æœ‰è¿›è¡Œæ€§è‚Œèç¼©ï¼Œè¿‘åŠå¹´æ‰‹éƒ¨éœ‡é¢¤åŠ å‰§ã€‚
                    </div>
                    <div class="clue" onclick="addToNotes(this)">
                        <strong>ç›‘æ§è®°å½•ï¼š</strong>å¼€å¹•å‰é™ˆå¢¨ä¸æ¢å°æ›¼çš„ç»çºªäººæ¿€çƒˆäº‰åµã€‚
                    </div>
                `,
                relationships: [
                    "æ¢å°æ›¼æ˜¯è¿‘å¹´å´›èµ·çš„'å¤©æ‰ç”»å®¶'ï¼Œå®é™…å·²æ— æ³•æ‰§ç¬”",
                    "ç»çºªäººé©¬å…‹å®ä¸ºè‰ºæµ·å…¬å¸å°‘ä¸œï¼Œæ“æ§å¤šä½è‰ºæœ¯å®¶",
                    "ç­–å±•äººè–‡è–‡å®‰æ˜¯é™ˆå¢¨å‰å¦»ï¼Œç¦»å©šåäº‹ä¸šä¸‹æ»‘",
                    "ä¿å®‰è€èµµæ›¾æ˜¯ç¾æœ¯å­¦é™¢æ•™æˆï¼Œå› æŠ„è¢­æ¡ˆè½é­„",
                    "è‰ºæœ¯ä¿®å¤å¸ˆå°æ—æ˜¯æ¢å°æ›¼çš„å¦¹å¦¹ï¼Œä¸€ç›´é»˜é»˜ä»£ç¬”"
                ],
                suspects: [
                    {
                        name: "æ¢å°æ›¼ï¼ˆè‰ºæœ¯å®¶ï¼‰",
                        testimony: [
                            "é‚£äº›ç”»...å½“ç„¶éƒ½æ˜¯æˆ‘äº²æ‰‹...ï¼ˆå’³å—½ï¼‰",
                            "é™ˆè€å¸ˆä¸€ç›´å¾ˆæ”¯æŒæˆ‘ï¼Œä¸ºä»€ä¹ˆè¦å®³ä»–ï¼Ÿ",
                            "ç™½è‰²ç²‰æœ«ï¼Ÿå¯èƒ½æ˜¯æˆ‘çš„æ­¢ç—›è¯",
                            "å¦¹å¦¹åªæ˜¯å¸®æˆ‘æ•´ç†ç”»å…·"
                        ],
                        secrets: [
                            "ä¸‰å¹´å‰å°±å·²æ— æ³•ä½œç”»",
                            "çŸ¥é“é™ˆå¢¨æ”¶é’±å†™å‡è¯„è®ºçš„äº‹"
                        ]
                    },
                    {
                        name: "é©¬å…‹ï¼ˆç»çºªäººï¼‰",
                        testimony: [
                            "å•†ä¸šè¿ä½œè€Œå·²ï¼Œç®—ä»€ä¹ˆä¸‘é—»ï¼Ÿ",
                            "æ±‡æ¬¾æ˜¯æ­£å¸¸ç¨¿è´¹ï¼Œä»–æœ‰å†™ä¸“æ ",
                            "äº‰åµï¼Ÿä»–å¨èƒè¦æ›å…‰'ä¸å­˜åœ¨çš„'ä»£ç¬”",
                            "å°æ›¼çš„ç—…å†µå±äºéšç§"
                        ],
                        secrets: [
                            "æ§åˆ¶ç€æ•´ä¸ªä»£ç¬”å·¥å‚",
                            "æŒæ¡é™ˆå¢¨å—è´¿çš„è¯æ®"
                        ]
                    },
                    {
                        name: "è–‡è–‡å®‰ï¼ˆç­–å±•äººï¼‰",
                        testimony: [
                            "ç¦»å©šåæˆ‘ä»¬å°±æ²¡è”ç³»ï¼Œé™¤äº†å·¥ä½œ",
                            "ä»–è¯„è®ºä¸€å‘å°–é…¸ï¼Œä½†è¿™æ¬¡ç‰¹åˆ«é’ˆå¯¹å°æ›¼",
                            "é‚£å¹…æ®‹ç‰‡...åƒæ˜¯æ—©æœŸé£æ ¼ï¼Ÿ",
                            "è‰ºæµ·å…¬å¸ï¼Ÿæ ‡å‡†çš„è‰ºæœ¯å¸è¡€é¬¼"
                        ],
                        secrets: [
                            "çŸ¥é“é™ˆå¢¨ä¸æ¢å°æ›¼çš„éšç§˜å…³ç³»",
                            "ä¿ç•™ç€é™ˆå¢¨å­¦æœ¯é€ å‡çš„è¯æ®"
                        ]
                    },
                    {
                        name: "å°æ—ï¼ˆè‰ºæœ¯ä¿®å¤å¸ˆï¼‰",
                        testimony: [
                            "æˆ‘åªæ˜¯ä¿®å¤å¸ˆï¼Œä¸æ‡‚åˆ›ä½œ",
                            "å§å§çš„ç—…...å¥¹ä¸æƒ³è®©äººçŸ¥é“",
                            "é™ˆè€å¸ˆå¸¸æ¥å·¥ä½œå®¤'æŒ‡å¯¼'",
                            "é‚£äº›ç™½è‰²é¢œæ–™æ˜¯ç‰¹æ®Šé…æ–¹..."
                        ],
                        secrets: [
                            "å®é™…æ˜¯æ¢å°æ›¼æ‰€æœ‰ä½œå“çš„åˆ›ä½œè€…",
                            "ä¸é™ˆå¢¨æœ‰ç§˜å¯†åˆä½œè®¡åˆ’"
                        ]
                    }
                ],
                solution: {
                    culprit: ["å°æ—", "ä¿®å¤å¸ˆ", "å¦¹å¦¹"],
                    motive: ["ä¿æŠ¤å§å§", "æ­éœ²çœŸç›¸", "è‡ªç”±åˆ›ä½œ"],
                    method: ["é¢œæ–™", "æ²³è±šæ¯’ç´ ", "ç”»ä½œ"],
                    truth: ["é™ˆå¢¨è®¡åˆ’æ›å…‰ä»£ç¬”åè‡ªå·±æ¥æ‰‹å°æ—", "æ—©æœŸç”»ä½œä¸ºå§å¦¹å…±åŒåˆ›ä½œ"],
                    correctMessage: `
                        ğŸ¨ æ­å–œï¼ä½ è¯†ç ´äº†è‰ºæœ¯ç•Œçš„éª—å±€ï¼<br><br>
                        çœŸç›¸ï¼šå°æ—ç”¨å«æ¯’é¢œæ–™é‡ç»˜æ—©æœŸä½œå“ï¼Œå½“é™ˆå¢¨ä¹ æƒ¯æ€§èˆ”æ‰‹æŒ‡ç‚¹è¯„æ—¶ä¸­æ¯’ã€‚<br>
                        æ‰‹æ³•ï¼šæ²³è±šæ¯’ç´ æ··åˆåœ¨æ¨¡ä»¿æ—§ä½œçš„é¢œæ–™ä¸­ï¼Œé’ˆå¯¹é™ˆå¢¨çš„å“ç”»ä¹ æƒ¯ã€‚<br>
                        è®½åˆºï¼šé™ˆå¢¨æœ¬æƒ³æ›å…‰ä»£ç¬”åç‹¬å å°æ—æ‰èƒ½ï¼Œå´æ­»åœ¨æœ€æ¬£èµçš„"çœŸè¿¹"å‰ã€‚
                    `
                }
            }
        };
        
        // åŠ è½½æ¡ˆä»¶
        function loadCase(caseNumber) {
            currentCase = caseNumber;
            const caseData = cases[caseNumber];
            
            // æ›´æ–°UI
            document.getElementById('case-title').textContent = caseData.title;
            document.getElementById('scene-description').innerHTML = caseData.description;
            
            // æ›´æ–°äººç‰©å…³ç³»å›¾
            let relationshipHTML = '';
            caseData.relationships.forEach(relation => {
                relationshipHTML += `<div class="relationship-item">${relation}</div>`;
            });
            document.getElementById('relationship-chart').innerHTML = relationshipHTML;
            
            // æ›´æ–°å«Œç–‘äººåˆ—è¡¨
            let suspectsHTML = '';
            caseData.suspects.forEach((suspect, index) => {
                suspectsHTML += `
                    <div class="suspect" onclick="interrogateSuspect(${index})">
                        <strong>${suspect.name}</strong>
                    </div>
                `;
            });
            document.getElementById('suspect-list').innerHTML = suspectsHTML;
            
            // é‡ç½®å…¶ä»–å†…å®¹
            document.getElementById('detective-notes').value = '';
            document.getElementById('culprit').value = '';
            document.getElementById('motive').value = '';
            document.getElementById('method').value = '';
            document.getElementById('truth').value = '';
            document.getElementById('result-message').textContent = '';
            document.getElementById('testimony-display').innerHTML = '<p>ç‚¹å‡»å«Œç–‘äººå¼€å§‹å®¡è®¯...</p>';
            
            // æ›´æ–°æ¡ˆä»¶æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.case-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.case${caseNumber}-btn`).classList.add('active');
            
            // æ ¹æ®æ¡ˆä»¶æ”¹å˜ä¸»é¢˜è‰²
            let primaryColor;
            switch(caseNumber) {
                case 1: primaryColor = 'var(--case1-color)'; break;
                case 2: primaryColor = 'var(--case2-color)'; break;
                case 3: primaryColor = 'var(--case3-color)'; break;
                default: primaryColor = 'var(--primary-color)';
            }
            document.documentElement.style.setProperty('--primary-color', primaryColor);
        }
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function openTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.currentTarget.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        // æ·»åŠ çº¿ç´¢åˆ°ç¬”è®°
        function addToNotes(element) {
            const notes = document.getElementById('detective-notes');
            notes.value += `â€¢ ${element.textContent}\n`;
            
            // é«˜äº®é€‰ä¸­çš„çº¿ç´¢
            document.querySelectorAll('.clue').forEach(c => c.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        // å®¡è®¯å«Œç–‘äºº
        function interrogateSuspect(index) {
            const suspect = cases[currentCase].suspects[index];
            let testimonyHTML = `
                <h4>${suspect.name}</h4>
                <p><em>ç‚¹å‡»æ¯æ¡è¯è¯æŸ¥çœ‹éšè—ä¿¡æ¯</em></p>
            `;
            
            suspect.testimony.forEach((line, i) => {
                testimonyHTML += `
                    <div class="testimony" onclick="revealSecret(${index}, ${i})">
                        "${line}"
                    </div>
                `;
            });
            
            document.getElementById('testimony-display').innerHTML = testimonyHTML;
        }
        
        // æ­ç¤ºç§˜å¯†
        function revealSecret(suspectIndex, testimonyIndex) {
            const suspect = cases[currentCase].suspects[suspectIndex];
            const testimonyElement = document.querySelectorAll('#testimony-display .testimony')[testimonyIndex];
            
            // éšæœºæ˜¾ç¤ºä¸€ä¸ªç§˜å¯†ï¼ˆå¦‚æœæœ‰ï¼‰
            if (suspect.secrets && suspect.secrets.length > 0) {
                const randomSecret = suspect.secrets[Math.floor(Math.random() * suspect.secrets.length)];
                testimonyElement.innerHTML += `<br><span style="color:#ff6b6b">[ç§˜å¯†] ${randomSecret}</span>`;
            } else {
                testimonyElement.innerHTML += `<br><span style="color:#aaa">[æ²¡æœ‰æ›´å¤šä¿¡æ¯]</span>`;
            }
        }
        
        // æ¸…ç©ºç¬”è®°
        function clearNotes() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç¬”è®°å—ï¼Ÿ')) {
                document.getElementById('detective-notes').value = '';
            }
        }
        
        // æ£€æŸ¥ç­”æ¡ˆ
        function checkSolution() {
            const culprit = document.getElementById('culprit').value.trim().toLowerCase();
            const motive = document.getElementById('motive').value.trim().toLowerCase();
            const method = document.getElementById('method').value.trim().toLowerCase();
            const truth = document.getElementById('truth').value.trim().toLowerCase();
            
            const caseData = cases[currentCase].solution;
            const correctCulprit = caseData.culprit.some(v => culprit.includes(v.toLowerCase()));
            const correctMotive = caseData.motive.some(v => motive.includes(v.toLowerCase()));
            const correctMethod = caseData.method.some(v => method.includes(v.toLowerCase()));
            const correctTruth = !truth || caseData.truth.some(v => truth.includes(v.toLowerCase()));
            
            const resultMessage = document.getElementById('result-message');
            
            if (correctCulprit && correctMotive && correctMethod) {
                resultMessage.innerHTML = caseData.correctMessage;
                resultMessage.style.color = 'var(--primary-color)';
                
                // æ˜¾ç¤ºéšè—çœŸç›¸ï¼ˆå¦‚æœå¡«å†™æ­£ç¡®ï¼‰
                if (correctTruth && truth) {
                    resultMessage.innerHTML += `<br><br><strong>éšè—çœŸç›¸ï¼š</strong>${caseData.truth.join("ï¼›")}`;
                }
            } else {
                let feedback = 'âŒ ç­”æ¡ˆä¸å®Œå…¨æ­£ç¡®ã€‚æç¤ºï¼š';
                if (!correctCulprit) feedback += 'æ³¨æ„äººç‰©å…³ç³»å›¾ï¼›';
                if (!correctMotive) feedback += 'æŒ–æ˜æ·±å±‚åŠ¨æœºï¼›';
                if (!correctMethod) feedback += 'åˆ†ææ¯’ç‰©/å‡¶å™¨ï¼›';
                if (truth && !correctTruth) feedback += 'çœŸç›¸éœ€è¦æ›´å¤§èƒ†çš„æƒ³è±¡ã€‚';
                
                resultMessage.textContent = feedback;
                resultMessage.style.color = '#ff6b6b';
            }
        }
        
        // åˆå§‹åŒ–åŠ è½½ç¬¬ä¸€ä¸ªæ¡ˆä»¶
        window.onload = function() {
            loadCase(1);
        };
    </script>
</body>
</html>