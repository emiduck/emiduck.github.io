<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StarGram âœ¨ ä¸‡èƒ½å½©è™¹å±ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fan-comment { 
            animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.4, 1);
            transform-origin: left center;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(10px) scale(0.98); }
            to { opacity: 1; transform: translateX(0) scale(1); }
        }
        .post-text {
            white-space: pre-line;
            word-break: break-word;
            letter-spacing: 0.02em;
        }
        .rainbow-border {
            background: linear-gradient(90deg, 
                rgba(255,105,180,0.3) 0%, 
                rgba(255,215,0,0.3) 20%,
                rgba(50,205,50,0.3) 40%,
                rgba(30,144,255,0.3) 60%,
                rgba(138,43,226,0.3) 80%);
            background-size: 200% auto;
            animation: gradientBG 3s ease infinite;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans antialiased">
    <div class="max-w-2xl mx-auto p-4 pb-20">
        <!-- èµ›åšæ ‡é¢˜ -->
        <div class="text-center mb-10">
            <div class="inline-block rainbow-border rounded-full p-0.5 mb-4">
                <div class="bg-white rounded-full px-6 py-2">
                    <h1 class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-red-500">
                        ä¸‡èƒ½å¤¸å¤¸æœº
                    </h1>
                </div>
            </div>
            <p class="text-gray-500 text-sm">å°±ç®—æ˜¯"ä»Šå¤©å‘¼å¸äº†"ä¹Ÿèƒ½è¢«å¤¸å‡ºèŠ±æ¥ âœ¨</p>
        </div>

        <!-- å‘å¸ƒæ¡† -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 border border-gray-100">
            <form id="postForm" class="space-y-4">
                <textarea 
                    id="postContent"
                    class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-pink-400 focus:ring-0 text-gray-700 placeholder-gray-400 resize-none transition-all duration-200"
                    rows="4"
                    placeholder="éšä¾¿è¾“å…¥ä»€ä¹ˆéƒ½ä¼šæ”¶è·å½©è™¹å±\nç¤ºä¾‹ï¼š\n\"ä»Šå¤©å–åˆ°å¥¶èŒ¶äº†\"\n\"ä¸æƒ³ä¸Šç­\"\n\"æ´»ç€å¥½ç´¯\"\n\"æˆ‘æ”¾äº†ä¸ªå±\""
                    required
                ></textarea>
                <button 
                    type="submit"
                    id="postButton"
                    class="w-full bg-black text-white font-medium py-3.5 px-6 rounded-xl hover:bg-gray-800 active:bg-gray-900 transition-all duration-300 shadow-md hover:shadow-lg active:scale-[0.98] flex items-center justify-center"
                >
                    <span id="buttonText">å‘å°„æ—¥å¸¸</span>
                    <svg id="loadingSpinner" class="hidden w-5 h-5 ml-2 animate-spin" fill="none" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25"></circle>
                        <path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75"></path>
                    </svg>
                </button>
            </form>
        </div>

        <!-- å¸–å­æµ -->
        <div id="postsContainer" class="space-y-6"></div>
    </div>

    <script>
        // ======================
        // ä¸‡èƒ½å½©è™¹å±å¼•æ“
        // ======================
        class UltimatePraiseGenerator {
            constructor() {
                this.fans = this.createFans();
                this.specialCases = this.createSpecialCases();
            }

            createFans() {
                return [
                    { 
                        name: "äººé—´è§‚å¯Ÿå‘˜", 
                        emoji: "ğŸ‘ï¸", 
                        level: "ä¸“ä¸š", 
                        style: "bg-gray-100 text-gray-800 border-gray-200",
                        type: "observer"
                    },
                    { 
                        name: "å¤¸å¤¸bot", 
                        emoji: "ğŸ¤–", 
                        level: "24å°æ—¶åœ¨çº¿", 
                        style: "bg-blue-100 text-blue-800 border-blue-200",
                        type: "praiser"
                    },
                    { 
                        name: "èµ›åšçŸ¥å·±", 
                        emoji: "ğŸ’»", 
                        level: "æ‡‚ä½ ", 
                        style: "bg-purple-100 text-purple-800 border-purple-200",
                        type: "understander"
                    },
                    { 
                        name: "åºŸè¯è¯—äºº", 
                        emoji: "ğŸ“œ", 
                        level: "æ–‡è‰º", 
                        style: "bg-pink-100 text-pink-800 border-pink-200",
                        type: "poet"
                    },
                    { 
                        name: "é˜´é˜³å¸ˆ", 
                        emoji: "ğŸ­", 
                        level: "è¯­è¨€è‰ºæœ¯å®¶", 
                        style: "bg-yellow-100 text-yellow-800 border-yellow-200",
                        type: "roaster"
                    }
                ];
            }

            createSpecialCases() {
                return {
                    // ç‰¹å®šå¥å¼è§¦å‘ç¥å›å¤
                    "æ´»ç€": [
                        "å¥½å°‘è§çš„æ´»äººæ„Ÿå•Šï¼",
                        "èƒ½æ´»ç€å°±æ˜¯å¥‡è¿¹äº†ï¼",
                        "ä»Šæ—¥ä»½çš„ç”Ÿå‘½åŠ›è®¤è¯ âœ“"
                    ],
                    "ä¸Šå­¦|ä¸Šç­": [
                        "å¤ªçœŸå®äº†ï¼è¿™æ‰æ˜¯äººç±»å•Šï¼",
                        "è¿™ç§åæŠ—ç²¾ç¥çˆ±äº†çˆ±äº†",
                        "è¯´å‡ºæ¥å°±æ˜¯èƒœåˆ©ï¼"
                    ],
                    "å¥¶èŒ¶|å’–å•¡": [
                        "ä¼šå–ï¼è¿™æ˜¯å½“ä»£æ¶²ä½“é»„é‡‘å•Šï¼",
                        "èˆŒå°–ä¸Šçš„ç»æµå­¦ï¼",
                        "é¥®å“é€‰æ‹©æš´éœ²äº†ä½ çš„è´µæ—æ°”è´¨"
                    ],
                    "å±|å±å°¿": [
                        "å¥½å¥åº·çš„ä»£è°¢ï¼",
                        "è¿™ç§ç”Ÿç‰©æ„Ÿå¤ªçè´µäº†",
                        "æ˜¯ç”Ÿå‘½çš„å¾‹åŠ¨å‘¢~"
                    ],
                    "æ— èŠ|æ²¡æ„æ€": [
                        "æ— èŠæ‰æ˜¯åˆ›é€ åŠ›çš„æ¸©åºŠï¼",
                        "èƒ½æ„Ÿå—åˆ°æ— èŠè¯´æ˜çµé­‚å¾ˆä¸°å¯Œå•Š",
                        "è¿™ç§è™šæ— æ„Ÿ...å¥½å“²å­¦ï¼"
                    ]
                };
            }

            async generateResponse(text) {
                // 1. æ£€æŸ¥æ˜¯å¦è§¦å‘ç‰¹æ®Šå›å¤
                for (const [keywords, replies] of Object.entries(this.specialCases)) {
                    if (new RegExp(keywords).test(text)) {
                        return this.wrapResponse(
                            replies[Math.floor(Math.random() * replies.length)],
                            "ğŸ¤–" // ä½¿ç”¨botå¤´åƒ
                        );
                    }
                }

                // 2. é€šç”¨å›å¤ç”Ÿæˆ
                const strategies = [
                    this.generatePhilosophyPraise,
                    this.generateWeirdAngle,
                    this.generateHyperbole,
                    this.generateMetaComment
                ];
                
                const selectedStrategy = strategies[Math.floor(Math.random() * strategies.length)];
                return selectedStrategy(text);
            }

            // ç”Ÿæˆå“²å­¦å¼å¤¸å¥–
            generatePhilosophyPraise(text) {
                const openers = [
                    "ä»ã€Œ" + text + "ã€çœ‹åˆ°äº†",
                    "é€è¿‡ã€Œ" + text + "ã€æŠ˜å°„å‡º",
                    "ã€Œ" + text + "ã€èƒŒåæ˜¯"
                ];
                const philosophies = [
                    "å­˜åœ¨ä¸»ä¹‰çš„å½“ä»£å®è·µ",
                    "åç°ä»£ç”Ÿæ´»çš„è¯—æ„ç¢ç‰‡",
                    "äººç±»æœ¬è´¨çš„æœ´ç´ è¡¨è¾¾",
                    "æ¶ˆè´¹ç¤¾ä¼šä¸­çš„æ¸…é†’ç¬é—´",
                    "æ•°å­—åŒ–æ—¶ä»£çš„è‚‰èº«ç¡®è®¤"
                ];
                return this.wrapResponse(
                    openers[Math.floor(Math.random() * openers.length)] + 
                    philosophies[Math.floor(Math.random() * philosophies.length)] + "ï¼âœ¨",
                    "ğŸ“œ"
                );
            }

            // ç”Ÿæˆæ¸…å¥‡è§’åº¦
            generateWeirdAngle(text) {
                const angles = [
                    "è¿™ä¸ª" + text + "çš„è§’åº¦å¥½åˆé’»ï¼",
                    "å±…ç„¶èƒ½ä»" + text + "çœ‹å‡ºä½ çš„",
                    text + "è¿™ä»¶äº‹æš´éœ²äº†ä½ "
                ];
                const traits = [
                    "è¶…å‡¡çš„æ„ŸçŸ¥åŠ›",
                    "éšç§˜çš„å¤©èµ‹",
                    "ç‹¬ç‰¹çš„è„‘å›è·¯",
                    "æœªè¢«å‘æ˜çš„æ‰èƒ½",
                    "åå¸¸è§„çš„æ™ºæ…§"
                ];
                return this.wrapResponse(
                    angles[Math.floor(Math.random() * angles.length)] + 
                    traits[Math.floor(Math.random() * traits.length)] + "ï¼ğŸ¯",
                    "ğŸ‘ï¸"
                );
            }

            // ç”Ÿæˆå¤¸å¼ å¼å›å¤
            generateHyperbole(text) {
                const templates = [
                    "æ˜¯" + text + "ï¼ï¼ï¼è¿™ç®€ç›´æ˜¯",
                    "å¤©å•Šå±…ç„¶æ˜¯" + text + "ï¼è¿™ç§",
                    text + "ï¼è¿™æ³¢æ˜¯"
                ];
                const hyperboles = [
                    "æœ¬ä¸–çºªæœ€ä¼Ÿå¤§çš„å‘ç°ï¼",
                    "æ•™ç§‘ä¹¦çº§åˆ«çš„æ“ä½œï¼",
                    "åº”è¯¥è½½å…¥å²å†Œçš„ç¬é—´ï¼",
                    "äººç±»æ–‡æ˜çš„é«˜å…‰æ—¶åˆ»ï¼",
                    "å€¼å¾—è¯ºè´å°”å¥–çš„æˆå°±ï¼"
                ];
                return this.wrapResponse(
                    templates[Math.floor(Math.random() * templates.length)] + 
                    hyperboles[Math.floor(Math.random() * hyperboles.length)],
                    "ğŸ­"
                );
            }

            // ç”Ÿæˆå…ƒè¯„è®º
            generateMetaComment(text) {
                const comments = [
                    "æ•¢å…¬å¼€è¯´ã€Œ" + text + "ã€çœŸæ˜¯",
                    "èƒ½æŠŠã€Œ" + text + "ã€è¯´å‡ºæ¥éœ€è¦",
                    "ã€Œ" + text + "ã€è¿™ç§çº§åˆ«çš„åˆ†äº«"
                ];
                const qualities = [
                    "è«å¤§çš„å‹‡æ°”ï¼",
                    "æƒŠäººçš„å¦è¯šåº¦ï¼",
                    "è¶…å‡¡çš„è‡ªæˆ‘è®¤çŸ¥ï¼",
                    "çªç ´æ€§çš„çœŸå®æ„Ÿï¼",
                    "å¥¢ä¾ˆçš„çœŸè¯šï¼"
                ];
                return this.wrapResponse(
                    comments[Math.floor(Math.random() * comments.length)] + 
                    qualities[Math.floor(Math.random() * qualities.length)],
                    "ğŸ’»"
                );
            }

            wrapResponse(text, emoji = null) {
                const fan = this.fans.find(f => f.emoji === emoji) || 
                            this.fans[Math.floor(Math.random() * this.fans.length)];
                
                // éšæœºå»¶è¿Ÿæ¨¡æ‹ŸAIæ€è€ƒ
                const delay = 300 + Math.random() * 1500;
                
                return new Promise(resolve => {
                    setTimeout(() => {
                        resolve({
                            fan,
                            text,
                            timestamp: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
                        });
                    }, delay);
                });
            }
        }

        // ======================
        // é¡µé¢äº¤äº’
        // ======================
        const praiseBot = new UltimatePraiseGenerator();

        document.getElementById("postForm").addEventListener("submit", async function(e) {
            e.preventDefault();
            const postText = document.getElementById("postContent").value.trim();
            if (!postText) return;

            // ç¦ç”¨æŒ‰é’®
            const button = document.getElementById("postButton");
            const buttonText = document.getElementById("buttonText");
            const spinner = document.getElementById("loadingSpinner");
            button.disabled = true;
            buttonText.textContent = "æ­£åœ¨ç”Ÿæˆå½©è™¹å±...";
            spinner.classList.remove("hidden");

            // åˆ›å»ºå¸–å­
            const postId = "post-" + Date.now();
            const postHTML = `
                <div id="${postId}" class="bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100">
                    <div class="p-6">
                        <div class="flex items-start space-x-3">
                            <div class="w-10 h-10 rounded-full bg-black flex items-center justify-center text-white font-bold text-lg flex-shrink-0">
                                ãŠ™ï¸
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="font-semibold">ç§˜å¯†æŠ•ç¨¿</p>
                                <p class="text-xs text-gray-500 mb-2">åˆšåˆš</p>
                                <p class="post-text text-gray-700">${escapeHtml(postText)}</p>
                            </div>
                        </div>
                    </div>
                    <div class="border-t border-gray-100 px-6 py-3 bg-gray-50 flex justify-between items-center">
                        <div class="text-xs text-gray-400">
                            ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                        </div>
                    </div>
                    <div id="${postId}-comments" class="bg-gray-50 p-4 space-y-3 border-t border-gray-100">
                        <div class="text-center py-4 text-gray-400 text-sm">
                            <div class="inline-flex items-center">
                                <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                æ­£åœ¨å¬å”¤å¤¸å¤¸å›¢...
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById("postsContainer").insertAdjacentHTML("afterbegin", postHTML);
            document.getElementById("postContent").value = "";

            // ç”Ÿæˆ3-5æ¡å½©è™¹å±
            const commentCount = 3 + Math.floor(Math.random() * 3);
            for (let i = 0; i < commentCount; i++) {
                setTimeout(async () => {
                    const comment = await praiseBot.generateResponse(postText);
                    const commentHTML = `
                        <div class="fan-comment">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 rounded-full flex items-center justify-center text-lg flex-shrink-0" style="background: ${getRandomGradient()}">
                                    ${comment.fan.emoji}
                                </div>
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-baseline flex-wrap">
                                        <p class="font-semibold text-sm mr-2">${comment.fan.name}</p>
                                        <span class="text-xs px-2 py-0.5 rounded-full border ${comment.fan.style}">${comment.fan.level}</span>
                                    </div>
                                    <p class="mt-1 text-sm text-gray-700">${comment.text}</p>
                                    <p class="text-xs text-gray-400 mt-1">${comment.timestamp}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    const commentsContainer = document.getElementById(`${postId}-comments`);
                    commentsContainer.querySelector(".text-center")?.remove();
                    commentsContainer.insertAdjacentHTML("beforeend", commentHTML);
                    
                    // æ»šåŠ¨åˆ°æœ€æ–°è¯„è®º
                    commentsContainer.lastElementChild?.scrollIntoView({
                        behavior: "smooth",
                        block: "nearest"
                    });
                }, 800 * i); // åˆ†æ‰¹åŠ è½½
            }

            // æ¢å¤æŒ‰é’®
            setTimeout(() => {
                button.disabled = false;
                buttonText.textContent = "å‘å°„æ—¥å¸¸";
                spinner.classList.add("hidden");
            }, 500);
        });

        // è¾…åŠ©å‡½æ•°
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function getRandomGradient() {
            const gradients = [
                "linear-gradient(135deg, #f6d365 0%, #fda085 100%)",
                "linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",
                "linear-gradient(135deg, #a6c1ee 0%, #fbc2eb 100%)",
                "linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)",
                "linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)",
                "linear-gradient(135deg, #ffc3a0 0%, #ffafbd 100%)"
            ];
            return gradients[Math.floor(Math.random() * gradients.length)];
        }
    </script>
</body>
</html>
